System.register("chunks:///_virtual/AppRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./websocket-client.ts"],(function(o){var t,e,n,c,r,i;return{setters:[function(o){t=o.inheritsLoose},function(o){e=o.cclegacy,n=o._decorator,c=o.director,r=o.Component},function(o){i=o.WebSocketClient}],execute:function(){var s;e._RF.push({},"e069esqsxhEvq8ko3tNXRK5","AppRoot",void 0);var p=n.ccclass;n.property,o("AppRoot",p("AppRoot")(s=function(o){function e(){return o.apply(this,arguments)||this}return t(e,o),e.prototype.onLoad=function(){c.addPersistRootNode(this.node);i.getInstance().init((function(){c.loadScene("OpenWorldTown")}))},e}(r))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/character-controller.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n,o,a,r,l,s,c,h,p,m,u,y;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,l=i.SkeletalAnimation,s=i.Camera,c=i.AnimationClip,h=i.Vec3,p=i.input,m=i.Input,u=i.KeyCode,y=i.Component}],execute:function(){var v,d,f,E,K,w,A,_,g,k,T,D;a._RF.push({},"20083CyI85Nm7qDjP6zXhd8","character-controller",void 0);var Y=r.ccclass,b=r.property,C=r.requireComponent,z=r.disallowMultiple;i("CharacterController",(v=Y("CharacterController"),d=C(l),f=z(!0),E=b({type:s}),K=b({type:c}),w=b({type:c}),v(A=d(A=f((g=t((_=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=i.call.apply(i,[this].concat(a))||this,n(t,"camera",g,o(t)),n(t,"velocity",k,o(t)),n(t,"walkAnimation",T,o(t)),n(t,"idleAnimation",D,o(t)),t.animation=void 0,t.isMoving=!1,t.keysTemp=[],t.horizontal=0,t.vertical=0,t.vec3Temp=new h,t}e(t,i);var a=t.prototype;return a.onLoad=function(){var i=this.node.getComponent(l);if(!i)throw new Error("no animation");if(!this.walkAnimation)throw new Error("no animation clip");this.animation=i,this.animation.addClip(this.idleAnimation),this.animation.addClip(this.walkAnimation)},a.start=function(){this.animation.play(this.idleAnimation.name)},a.update=function(i){if(this.isMoving){if(this.camera){var t=this.node.eulerAngles;this.node.setRotationFromEuler(t.x,this.camera.node.eulerAngles.y+180,t.z)}this.vec3Temp.set(this.horizontal,0,this.vertical),this.vec3Temp.multiplyScalar(-1),this.vec3Temp.multiplyScalar(this.velocity),this.vec3Temp.multiplyScalar(i),this.node.translate(this.vec3Temp)}},a.onEnable=function(){p.on(m.EventType.KEY_DOWN,this.onKeyDown,this),p.on(m.EventType.KEY_UP,this.onKeyUp,this)},a.onDisable=function(){p.off(m.EventType.KEY_DOWN,this.onKeyDown,this),p.off(m.EventType.KEY_UP,this.onKeyUp,this)},a.onKeyDown=function(i){var t=i.keyCode;t!=u.KEY_A&&t!=u.KEY_S&&t!=u.KEY_D&&t!=u.KEY_W||-1==this.keysTemp.indexOf(t)&&(this.keysTemp.push(t),this.updateDirection())},a.onKeyUp=function(i){var t=i.keyCode;if(t==u.KEY_A||t==u.KEY_S||t==u.KEY_D||t==u.KEY_W){var e=this.keysTemp.indexOf(t);-1!=e&&(this.keysTemp.splice(e,1),this.updateDirection())}},a.updateDirection=function(){var i=this;this.horizontal=0,this.vertical=0,this.keysTemp.forEach((function(t){t==u.KEY_A?i.horizontal+=-1:t==u.KEY_D?i.horizontal+=1:t==u.KEY_W?i.vertical+=-1:t==u.KEY_S&&(i.vertical+=1)})),0==this.horizontal&&0==this.vertical?(this.isMoving=!1,this.animation.nickname!=this.idleAnimation.name&&this.animation.crossFade(this.idleAnimation.name,.5)):(this.isMoving||(this.animation.crossFade(this.walkAnimation.name,.5),this.animation.getState(this.walkAnimation.name).speed=this.velocity),this.isMoving=!0)},t}(y)).prototype,"camera",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(_.prototype,"velocity",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),T=t(_.prototype,"walkAnimation",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(_.prototype,"idleAnimation",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=_))||A)||A)||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/config.ts",["cc"],(function(e){var t,r,o,i,s,a;return{setters:[function(e){t=e.cclegacy,r=e.game,o=e.Game,i=e.director,s=e.gfx,a=e.sys}],execute:function(){t._RF.push({},"4407eVdSvVAcb8oHCTqQxje","config",void 0);var n=e("Config",{lod:!0,debug:!1,highFps:!0,highQuality:!1,supportBendGrass:!1,bendGrass:!1});r.on(o.EVENT_ENGINE_INITED,(function(){if(i.root){var e=i.root.device.getFormatFeatures(s.Format.R16F),t=s.FormatFeatureBit.RENDER_TARGET|s.FormatFeatureBit.SAMPLED_TEXTURE;(e&t)===t&&(n.supportBendGrass=!0)}a.isMobile||(n.highFps=!0,n.highQuality=!0)})),t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/distribute-grid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lod.ts"],(function(t){var e,r,i,n,o,a,s,l,p,u,c,h,d,f,m,b,y,g,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,l=t.Prefab,p=t.Material,u=t.CCInteger,c=t.Node,h=t.Mesh,d=t.instantiate,f=t.MeshRenderer,m=t.CCObject,b=t.ModelComponent,y=t.Component},function(t){g=t.LodConfig,_=t.Lod}],execute:function(){var w,v,C,M,z,D,O,L,P,j,F,T,k,I,R,x,H,A,E,G,S,B;a._RF.push({},"b62e7mXo3FLrbgRC761sLwW","distribute-grid",void 0);var N=s.ccclass,W=s.property,X=s.executeInEditMode,q=s.type;function J(t,e){var r=t.getComponent(f);r&&r.mesh&&e.merge(r.mesh,t.worldMatrix);for(var i=0;i<t.children.length;i++)J(t.children[i],e)}var K=t("LodTemplate",(w=N("LodTemplate"),v=q(l),w((z=e((M=function(){function t(){i(this,"template",z,this),i(this,"distance",D,this),this._mesh=null}return t.prototype.getMesh=function(){if(!this.template)return null;this._mesh||(this._mesh=new h,J(d(this.template),this._mesh));return this._mesh},t}()).prototype,"template",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(M.prototype,"distance",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),C=M))||C));t("DistributeGrid",(O=N("DistributeGrid"),L=q(p),P=q(p),j=q(l),F=q(l),T=W({type:u}),k=q(K),I=q(c),O(R=X((H=e((x=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"_material",H,n(e)),i(e,"_space",A,n(e)),i(e,"_template",E,n(e)),i(e,"_count",G,n(e)),i(e,"lods",S,n(e)),i(e,"lodTarget",B,n(e)),e}r(e,t);var a=e.prototype;return a.onEnable=function(){this.distribute(),this.updateMaterial()},a.distribute=function(){if(this.template){var t=this.lods.map((function(t){var e=new g;return e.mesh=t.getMesh(),e.distance=t.distance,e})),e=0|Math.pow(this.count,.5);this.node.removeAllChildren();for(var r=0;r<this.count;r++){var i=new c;i.addComponent(f);var n=i.addComponent(_);n.lods=t,n.target=this.lodTarget,i.setPosition(r%e*this.space,0,Math.floor(r/e)*this.space),i._objFlags|=m.Flags.DontSave|m.Flags.HideInHierarchy,i.parent=this.node}}},a.updateMaterial=function(){if(this.material)for(var t=this.node.getComponentsInChildren(b),e=0;e<t.length;e++){t[e].setMaterial(this.material,0)}},o(e,[{key:"material",get:function(){return this._material},set:function(t){this._material=t,this.updateMaterial()}},{key:"space",get:function(){return this._space},set:function(t){this._space=t,this.distribute()}},{key:"template",get:function(){return this._template},set:function(t){this._template=t,this.distribute()}},{key:"count",get:function(){return this._count},set:function(t){this._count=t,this.distribute()}}]),e}(y)).prototype,"_material",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(x.prototype,"material",[P],Object.getOwnPropertyDescriptor(x.prototype,"material"),x.prototype),A=e(x.prototype,"_space",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),e(x.prototype,"space",[W],Object.getOwnPropertyDescriptor(x.prototype,"space"),x.prototype),E=e(x.prototype,"_template",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(x.prototype,"template",[F],Object.getOwnPropertyDescriptor(x.prototype,"template"),x.prototype),G=e(x.prototype,"_count",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(x.prototype,"count",[T],Object.getOwnPropertyDescriptor(x.prototype,"count"),x.prototype),S=e(x.prototype,"lods",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(x.prototype,"lodTarget",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=x))||R)||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/error.ts",["cc"],(function(r){var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){r({ComponentNotFoundError:function(r,n){return new Error("Error getting component "+n+" to node path in "+r.getPathInHierarchy()+".")},PropertyAssignmentError:function(r,n){return new Error("Error assigning value "+n+" to node path in "+r.getPathInHierarchy()+".")}}),n._RF.push({},"f9f42rRveJFIIda66lxWLvc","error",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/fight-controller.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,a,l,c,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,c=e.Input,u=e.director,s=e.Component}],execute:function(){var p,f,h,g,y,d,v;r._RF.push({},"1fb75B4fQ5On77EakoWyuuD","fight-controller",void 0);var P=a.ccclass,C=a.property;e("FightController",(p=P("FightController"),f=C({type:l}),h=C({type:l}),p((d=t((y=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"actionPanel",d,o(t)),i(t,"questionPanel",v,o(t)),t}n(t,e);var r=t.prototype;return r.onLoad=function(){var e=this;this.actionPanel.getChildByName("Attack1").on(c.EventType.MOUSE_DOWN,(function(){return e.toggleChoicesUi()})),this.actionPanel.getChildByName("Attack2").on(c.EventType.MOUSE_DOWN,(function(){return e.toggleChoicesUi()})),this.actionPanel.getChildByName("RunOff").on(c.EventType.MOUSE_DOWN,(function(){u.loadScene("open-world")}))},r.toggleChoicesUi=function(){this.questionPanel.active=!0,this.actionPanel.active=!1},t}(s)).prototype,"actionPanel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(y.prototype,"questionPanel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/game-api-client.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f27a2v3W/JCobcu7HHNresz","game-api-client",void 0);e("GameApiClient",(function(){}));t._RF.pop()}}}));

System.register("chunks:///_virtual/input.ts",["cc"],(function(e){var t,s,i,a,c,n;return{setters:[function(e){t=e.cclegacy,s=e.game,i=e.Game,a=e.input,c=e.Input,n=e.KeyCode}],execute:function(){t._RF.push({},"3c644EhyyBO4bFAFZz56gLy","input",void 0);var o=e("default",new(function(){function e(){this.key={left:!1,right:!1,up:!1,down:!1,space:!1,shift:!1},this.moveDir=0,this.moveForward=0,this.moveBack=0,this.moveBrake=0}var t=e.prototype;return t.registerEvents=function(){a.on(c.EventType.KEY_DOWN,this.onKeyDown,this),a.on(c.EventType.KEY_UP,this.onKeyUp,this)},t.onKeyDown=function(e){switch(e.keyCode){case n.ARROW_LEFT:case n.KEY_A:this.key.left=!0;break;case n.ARROW_RIGHT:case n.KEY_D:this.key.right=!0;break;case n.ARROW_UP:case n.KEY_W:this.key.up=!0,this.moveForward=1;break;case n.ARROW_DOWN:case n.KEY_S:this.key.down=!0,this.moveBack=1;break;case n.SPACE:this.key.space=!0,this.moveBrake=1;break;case n.SHIFT_LEFT:this.key.shift=!0}},t.onKeyUp=function(e){switch(e.keyCode){case n.ARROW_LEFT:case n.KEY_A:this.key.left=!1;break;case n.ARROW_RIGHT:case n.KEY_D:this.key.right=!1;break;case n.ARROW_UP:case n.KEY_W:this.key.up=!1,this.moveForward=0;break;case n.ARROW_DOWN:case n.KEY_S:this.key.down=!1,this.moveBack=0;break;case n.SPACE:this.key.space=!1,this.moveBrake=0;break;case n.SHIFT_LEFT:this.key.shift=!1}},e}()));s.on(i.EVENT_GAME_INITED,(function(){o.registerEvents()})),t._RF.pop()}}}));

System.register("chunks:///_virtual/joy-stick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,o,r,s,u,c,a,l,h,p,d;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,u=t.Vec3,c=t.Vec2,a=t.math,l=t.Node,h=t.UITransform,p=t.view,d=t.Component}],execute:function(){var m,g,S,y,f,_,v,E,j,R,z,b;r._RF.push({},"0df005HeCFHbLgcmwtx6QL2","joy-stick",void 0);var C=s.ccclass,T=s.property,O=new u,w=new c,x=new a.Size;t("JoyStick",(m=C("JoyStick"),g=T({type:l}),S=T({type:l}),y=T({type:l}),f=T({type:l}),m((E=i((v=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"maxRadius",E,o(i)),n(i,"control",j,o(i)),n(i,"controlBg",R,o(i)),n(i,"jumpBtn",z,o(i)),n(i,"jumpWidget",b,o(i)),i.direction=new u,i.magnitude=0,i.rotation=0,i.jump=!1,i._currentScreenVerticle=!0,i._originRadius=0,i._originSize=0,i}e(i,t);var r=i.prototype;return r.start=function(){var t;this.node.on(l.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(l.EventType.TOUCH_END,this.touchEnd,this),this.node.on(l.EventType.TOUCH_CANCEL,this.touchEnd,this),this.jumpBtn&&(this.jumpBtn.on(l.EventType.TOUCH_START,this.jumpStart,this),this.jumpBtn.on(l.EventType.TOUCH_CANCEL,this.jumpStop,this),this.jumpBtn.on(l.EventType.TOUCH_END,this.jumpStop,this)),this._originSize=(null==(t=this.node.getComponent(h))?void 0:t.contentSize.width)||0,this._originRadius=this.maxRadius,this.updateScreen()},r.update=function(){this.updateScreen()},r.updateScreen=function(){var t=p.getFrameSize(),i=this._currentScreenVerticle;t.width>t.height?this._currentScreenVerticle=!1:this._currentScreenVerticle=!0;var e,n,o,r,s,c,a,l;i!=this._currentScreenVerticle&&(this._currentScreenVerticle?(O.set(2,2,2),x.set(2*this._originSize,2*this._originSize),null==(e=this.node.getComponent(h))||e.setContentSize(x),this.maxRadius=2*this._originRadius,null==(n=this.control)||n.setScale(O),null==(o=this.controlBg)||o.setScale(O),null==(r=this.jumpWidget)||r.setScale(O)):(null==(s=this.control)||s.setScale(u.ONE),null==(c=this.controlBg)||c.setScale(u.ONE),this.maxRadius=this._originRadius,null==(a=this.jumpWidget)||a.setScale(u.ONE),x.set(this._originSize,this._originSize),null==(l=this.node.getComponent(h))||l.setContentSize(x)))},r.touchMove=function(t){if(this.control){t.getLocation(w);var i=w.x/p.getScaleX(),e=w.y/p.getScaleY();this.node.getWorldPosition(O),O.set(i-O.x,e-O.y,0),u.subtract(this.direction,O,u.ZERO),this.direction.normalize();var n=u.distance(O,u.ZERO);n>=this.maxRadius&&(n=this.maxRadius),this.magnitude=n/this.maxRadius,u.multiplyScalar(O,this.direction,n),u.add(O,u.ZERO,O),this.rotation=-Math.atan2(this.direction.x,this.direction.y)*(180/Math.PI),this.control.setPosition(O)}},r.touchEnd=function(){this.control&&(this.rotation=0,this.magnitude=0,this.direction.set(u.ZERO),this.control.setPosition(u.ZERO))},r.jumpStart=function(){this.jump=!0},r.jumpStop=function(){this.jump=!1},i}(d)).prototype,"maxRadius",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),j=i(v.prototype,"control",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(v.prototype,"controlBg",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(v.prototype,"jumpBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=i(v.prototype,"jumpWidget",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=v))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/lod.ts",["./rollupPluginModLoBabelHelpers.js","cc","./config.ts"],(function(e){var t,i,n,r,o,s,a,l,c,u,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,n=e.inheritsLoose,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Vec3,l=e.Mesh,c=e.Node,u=e.MeshRenderer,h=e.Component},function(e){d=e.Config}],execute:function(){var f,p,g,m,b,y,v,w,R,L,z,C,M;o._RF.push({},"3c93bBUilhMIZi2Tams1LPw","lod",void 0);var P=s.ccclass,_=s.property,D=s.type,I=s.executeInEditMode,k=new a,x=new a,B=e("LodConfig",(f=P("LodConfig"),p=D(l),f((b=t((m=function(){i(this,"mesh",b,this),i(this,"distance",y,this)}).prototype,"mesh",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(m.prototype,"distance",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=m))||g));e("Lod",(v=P("Lod"),w=D(B),R=D(c),v(L=I((C=t((z=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lods",C,r(t)),i(t,"target",M,r(t)),t.meshRenderer=null,t}n(t,e);var o=t.prototype;return o.start=function(){this.meshRenderer=this.getComponent(u)},o.update=function(){if(this.meshRenderer&&this.target){var e=this.lods,t=e.length-1;if(d.lod){for(var i=a.distance(this.node.getWorldPosition(k),this.target.getWorldPosition(x)),n=0;n<e.length;n++)if(i<e[n].distance){t=n;break}}else t=0;var r=e[t];r&&this.meshRenderer.mesh!==r.mesh&&(this.meshRenderer.mesh=r.mesh)}},t}(h)).prototype,"lods",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(z.prototype,"target",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=z))||L)||L));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./game-api-client.ts","./websocket-client.ts","./fight-controller.ts","./AppRoot.ts","./character-controller.ts","./input.ts","./joy-stick.ts","./monster-controller.ts","./orbit-camera.ts","./player-controller.ts","./player-information-interface.ts","./third-person-camera.ts","./config.ts","./distribute-grid.ts","./lod.ts","./teleport-point.ts","./error.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/monster-controller.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,r,o,e,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,e=t.BoxCollider,i=t.director,c=t.Component}],execute:function(){var s;r._RF.push({},"1093aTnyqhPm6UtzhBp434f","monster-controller",void 0);var l=o.ccclass;t("MonsterController",l("MonsterController")(s=function(t){function r(){return t.apply(this,arguments)||this}n(r,t);var o=r.prototype;return o.start=function(){this.node.getComponent(e).on("onTriggerEnter",this.onTriggerEnter,this)},o.onTriggerEnter=function(){i.loadScene("fighting")},r}(c))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/orbit-camera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,a,n,s,u,l,h,c,p,g,R,d,_,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){n=t.cclegacy,s=t._decorator,u=t.Vec3,l=t.Quat,h=t.Node,c=t.director,p=t.Canvas,g=t.input,R=t.Input,d=t.lerp,_=t.Component,f=t.Vec2}],execute:function(){var b,y,w,T,m,S,E,v,x,z,C,O,M,D,H,P,U,k,A,W,V;n._RF.push({},"6be7d8BhlpJFobtMkxMXvVa","orbit-camera",void 0);var Y=s.ccclass,j=s.property,F=s.type,L=new u,I=new u,N=new l;t("default",(b=Y("OrbitCamera"),y=F(h),w=F(h),T=F(u),m=F(u),b((v=e((E=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),n=0;n<i;n++)a[n]=arguments[n];return e=t.call.apply(t,[this].concat(a))||this,o(e,"enableTouch",v,r(e)),o(e,"enableScaleRadius",x,r(e)),o(e,"autoRotate",z,r(e)),o(e,"autoRotateSpeed",C,r(e)),o(e,"rotateSpeed",O,r(e)),o(e,"followSpeed",M,r(e)),o(e,"xRotationRange",D,r(e)),o(e,"_target",H,r(e)),o(e,"radiusScaleSpeed",P,r(e)),o(e,"minRadius",U,r(e)),o(e,"maxRadius",k,r(e)),o(e,"followTargetRotationY",A,r(e)),o(e,"_startRotation",W,r(e)),e._center=new u,e._targetCenter=new u,e._touched=!1,e._targetRotation=new u,e._rotation=new l,o(e,"_targetRadius",V,r(e)),e._radius=10,e}i(e,t);var n=e.prototype;return n.start=function(){var t=c.getScene().getComponentInChildren(p);t&&t.node?(this.enableTouch&&(t.node.on(h.EventType.TOUCH_START,this.onTouchStart,this),t.node.on(h.EventType.TOUCH_MOVE,this.onTouchMove,this),t.node.on(h.EventType.TOUCH_END,this.onTouchEnd,this)),this.enableScaleRadius&&t.node.on(h.EventType.MOUSE_WHEEL,this.onMouseWhee,this)):(this.enableTouch&&(g.on(R.EventType.TOUCH_START,this.onTouchStart,this),g.on(R.EventType.TOUCH_MOVE,this.onTouchMove,this),g.on(R.EventType.TOUCH_END,this.onTouchEnd,this)),this.enableScaleRadius&&g.on(R.EventType.MOUSE_WHEEL,this.onMouseWhee,this)),this.resetTargetRotation(),l.fromEuler(this._rotation,this._targetRotation.x,this._targetRotation.y,this._targetRotation.z),this.target&&(this._targetCenter.set(this.target.worldPosition),this._center.set(this._targetCenter)),this._radius=this.radius,this.limitRotation()},n.resetTargetRotation=function(){var t=this._targetRotation.set(this._startRotation);this.followTargetRotationY&&(t=I.set(t),l.toEuler(L,this.target.worldRotation),t.y+=L.y)},n.onTouchStart=function(){this._touched=!0},n.onTouchMove=function(t){if(this._touched){var e=t.touch.getDelta();l.fromEuler(N,this._targetRotation.x,this._targetRotation.y,this._targetRotation.z),l.rotateX(N,N,.005*-e.y),l.rotateAround(N,N,u.UP,.005*-e.x),l.toEuler(this._targetRotation,N),this.limitRotation()}},n.onTouchEnd=function(){this._touched=!1},n.onMouseWhee=function(t){var e=t.getScrollY();this._targetRadius+=this.radiusScaleSpeed*-Math.sign(e),this._targetRadius=Math.min(this.maxRadius,Math.max(this.minRadius,this._targetRadius))},n.limitRotation=function(){var t=this._targetRotation;t.x<this.xRotationRange.x?t.x=this.xRotationRange.x:t.x>this.xRotationRange.y&&(t.x=this.xRotationRange.y),t.z=0},n.update=function(t){var e=this._targetRotation;this.autoRotate&&!this._touched&&(e.y+=this.autoRotateSpeed*t),this.target&&(this._targetCenter.set(this.target.worldPosition),this.followTargetRotationY&&(e=I.set(e),l.toEuler(L,this.target.worldRotation),e.y+=L.y)),l.fromEuler(N,e.x,e.y,e.z),l.slerp(this._rotation,this._rotation,N,7*t*this.rotateSpeed),u.lerp(this._center,this._center,this._targetCenter,5*t*this.followSpeed),this._radius=d(this._radius,this._targetRadius,5*t),u.transformQuat(L,u.FORWARD,this._rotation),u.multiplyScalar(L,L,this._radius),L.add(this._center),this.node.position=L,this.node.lookAt(this._center)},a(e,[{key:"radius",get:function(){return this._targetRadius},set:function(t){this._targetRadius=t}},{key:"target",get:function(){return this._target},set:function(t){this._target=t,this._targetRotation.set(this._startRotation),this._targetCenter.set(t.worldPosition)}},{key:"targetRotation",get:function(){return this._startRotation.set(this._targetRotation),this._startRotation},set:function(t){this._targetRotation.set(t),this._startRotation.set(t)}}]),e}(_)).prototype,"enableTouch",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=e(E.prototype,"enableScaleRadius",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=e(E.prototype,"autoRotate",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=e(E.prototype,"autoRotateSpeed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 90}}),O=e(E.prototype,"rotateSpeed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=e(E.prototype,"followSpeed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),D=e(E.prototype,"xRotationRange",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(5,70)}}),H=e(E.prototype,"_target",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),e(E.prototype,"radius",[j],Object.getOwnPropertyDescriptor(E.prototype,"radius"),E.prototype),P=e(E.prototype,"radiusScaleSpeed",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),U=e(E.prototype,"minRadius",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),k=e(E.prototype,"maxRadius",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(E.prototype,"target",[w],Object.getOwnPropertyDescriptor(E.prototype,"target"),E.prototype),e(E.prototype,"targetRotation",[T],Object.getOwnPropertyDescriptor(E.prototype,"targetRotation"),E.prototype),A=e(E.prototype,"followTargetRotationY",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),W=e(E.prototype,"_startRotation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),V=e(E.prototype,"_targetRadius",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),S=E))||S));n._RF.pop()}}}));

System.register("chunks:///_virtual/player-controller.ts",["./rollupPluginModLoBabelHelpers.js","cc","./player-information-interface.ts","./error.ts"],(function(e){var t,r,n,i,a,o,l,f,c,s,p,u,h,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,f=e.Prefab,c=e.Camera,s=e.instantiate,p=e.Component},function(e){u=e.PlayerInformationInterface},function(e){h=e.PropertyAssignmentError,m=e.ComponentNotFoundError}],execute:function(){var y,b,d,g,P,I,w,v,C,z,D;a._RF.push({},"ef563+DkWVPGqD9Zg2VjEem","player-controller",void 0);var _=o.ccclass,E=o.property;e("PlayerController",(y=_("PlayerController"),b=E({type:l}),d=E({type:l}),g=E({type:f}),P=E({type:c}),y((v=t((w=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"target",v,i(t)),n(t,"panel",C,i(t)),n(t,"informationInterfacePrefab",z,i(t)),n(t,"camera",D,i(t)),t.informationInterface=void 0,t}r(t,e);var a=t.prototype;return a.onLoad=function(){if(!this.informationInterfacePrefab)throw h(this.node,"informationInterfacePrefab");if(!this.panel)throw h(this.node,"panel");if(!this.target)throw h(this.node,"target");if(!this.camera)throw h(this.node,"camera");var e=s(this.informationInterfacePrefab),t=e.getComponent(u);if(!t)throw m(this.node,"informationInterface");this.informationInterface=t,this.panel.addChild(e)},a.update=function(){this.target&&this.camera&&this.informationInterface.updatePosition(this.target,this.camera)},t}(p)).prototype,"target",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(w.prototype,"panel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(w.prototype,"informationInterfacePrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(w.prototype,"camera",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=w))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/player-information-interface.ts",["./rollupPluginModLoBabelHelpers.js","cc","./error.ts"],(function(e){var n,t,o,r,i,a,c;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,r=e.Vec3,i=e.Label,a=e.Component},function(e){c=e.PropertyAssignmentError}],execute:function(){var s;t._RF.push({},"6045ap47O1IFZJJEZ1xXT2w","player-information-interface",void 0);var l=o.ccclass,u=new r,f=new r;e("PlayerInformationInterface",l("PlayerInformationInterface")(s=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(n=e.call.apply(e,[this].concat(o))||this).nameLabel=void 0,n}n(t,e);var o=t.prototype;return o.onLoad=function(){var e,n=null==(e=this.node.getChildByName("Nickname"))?void 0:e.getComponent(i);if(!n)throw c(this.node,"label");this.nameLabel=n},o.updatePosition=function(e,n){this.node.parent&&(e.getWorldPosition(u),n.convertToUINode(u,this.node.parent,f),this.node.setPosition(f))},o.setName=function(e){this.nameLabel.string=e},t}(a))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/teleport-point.ts",["./rollupPluginModLoBabelHelpers.js","cc","./error.ts"],(function(e){var t,n,o,r,i,l,s,c,a,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,s=e.CylinderCollider,c=e.director,a=e.Component},function(e){p=e.ComponentNotFoundError}],execute:function(){var u,f,d;i._RF.push({},"f9e7bo8XxtNfIjyMsSBn9V8","teleport-point",void 0);var h=l.ccclass,y=l.property;e("TeleportPoint",h("TeleportPoint")((d=t((f=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,o(t,"sceneName",d,r(t)),t}n(t,e);var i=t.prototype;return i.start=function(){var e=this.node.getComponent(s);if(!e)throw p(this.node,"CylinderCollider");e.on("onTriggerStay",this.onCollisionEnter,this)},i.onCollisionEnter=function(){this.sceneName&&c.loadScene(this.sceneName)},t}(a)).prototype,"sceneName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=f))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/third-person-camera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,a,o,r,s,c,h,l,u,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Node,c=t.v3,h=t.input,l=t.Input,u=t.game,g=t.Component}],execute:function(){var f,d,p,m,y,b,T,v,E,M,A,V,z,S,w,x;o._RF.push({},"e9987PVeW9KyqQ6zN5QXvQh","third-person-camera",void 0);var D=r.ccclass,O=r.property;t("ThirdPersonCamera",(f=D("ThirdPersonCamera"),d=O(s),p=O({min:-89,max:89}),m=O({min:-89,max:89}),f((T=e((b=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,n(e,"target",T,a(e)),n(e,"lookAtOffset",v,a(e)),n(e,"zoomSensitivity",E,a(e)),n(e,"distanceMin",M,a(e)),n(e,"distanceMax",A,a(e)),n(e,"distance",V,a(e)),n(e,"angleXmin",z,a(e)),n(e,"angleXmax",S,a(e)),n(e,"rotateVHSeparated",w,a(e)),n(e,"tweenTime",x,a(e)),e.targetDistance=0,e.targetAngle=c(),e.touched=!1,e.cameraSensitivity=.1,e.distanceVec3=c(),e.rotationVec3=c(),e}i(e,t);var o=e.prototype;return o.start=function(){this.target&&(this.targetDistance=this.distance,this.targetAngle.set(this.target.eulerAngles),this.targetAngle.y=this.targetAngle.y+180,this.targetAngle.x=this.targetAngle.x-30,this.node.setRotationFromEuler(this.targetAngle),this.distanceVec3.set(this.node.forward),this.rotationVec3.subtract(this.distanceVec3),this.node.setPosition(this.rotationVec3))},o.lateUpdate=function(t){if(this.target){this.node.setRotationFromEuler(this.targetAngle),this.rotationVec3.set(this.node.eulerAngles),this.rotationVec3.set(this.target.worldPosition),this.rotationVec3.add(this.lookAtOffset);var e=Math.min(t/this.tweenTime,1);this.distance=this.distance*(1-e)+this.targetDistance*e,this.distanceVec3.set(this.node.forward),this.distanceVec3.multiplyScalar(this.distance),this.rotationVec3.subtract(this.distanceVec3),this.node.setPosition(this.rotationVec3)}},o.zoom=function(t){this.targetDistance+=t*this.zoomSensitivity*-1,this.targetDistance=Math.max(Math.min(this.targetDistance,this.distanceMax),this.distanceMin)},o.rotate=function(t,e){this.rotateVHSeparated&&(Math.abs(t)>Math.abs(e)?e=0:t=0),this.targetAngle.set(Math.max(Math.min(this.targetAngle.x+t,this.angleXmax),this.angleXmin),this.targetAngle.y+e,this.targetAngle.z)},o.onEnable=function(){h.on(l.EventType.MOUSE_WHEEL,this.onMouseWheel,this),h.on(l.EventType.TOUCH_START,this.onTouchStart,this),h.on(l.EventType.TOUCH_MOVE,this.onTouchMove,this),h.on(l.EventType.TOUCH_END,this.onTouchEnd,this)},o.onDisable=function(){h.off(l.EventType.MOUSE_WHEEL,this.onMouseWheel,this),h.off(l.EventType.TOUCH_START,this.onTouchStart,this),h.off(l.EventType.TOUCH_MOVE,this.onTouchMove,this),h.off(l.EventType.TOUCH_END,this.onTouchEnd,this)},o.onMouseWheel=function(t){var e=.01*t.getScrollY();this.zoom(e)},o.onTouchStart=function(){var t;this.touched=!0,null==(t=u.canvas)||t.requestPointerLock()},o.onTouchMove=function(t){if(this.touched&&t.touch){var e=t.touch.getDelta(),i=e.y*this.cameraSensitivity,n=-e.x*this.cameraSensitivity;this.rotate(i,n)}},o.onTouchEnd=function(){this.touched&&document.exitPointerLock(),this.touched=!1},e}(g)).prototype,"target",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=e(b.prototype,"lookAtOffset",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c()}}),E=e(b.prototype,"zoomSensitivity",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=e(b.prototype,"distanceMin",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),A=e(b.prototype,"distanceMax",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),V=e(b.prototype,"distance",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),z=e(b.prototype,"angleXmin",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-89}}),S=e(b.prototype,"angleXmax",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=e(b.prototype,"rotateVHSeparated",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=e(b.prototype,"tweenTime",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),y=b))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/websocket-client.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"6e99dtSZi9LnLaw0tKUHTW4","websocket-client",void 0);var t=e("WebSocketClient",function(){function e(){if(this.websocket=void 0,this.textEncoder=new TextEncoder,this.adaterMap=new Map,null!=e._instance)throw new Error("")}e.getInstance=function(){return this._instance};var n=e.prototype;return n.init=function(e){var n=this;if(this.websocket){var t=new WebSocket("");t.binaryType="arraybuffer",t.addEventListener("open",(function(){n.onOpen(t),e()})),t.addEventListener("message",(function(e){return n.onMessage(e)})),t.addEventListener("close",(function(){return n.onClose()}))}},n.onOpen=function(e){this.websocket=e},n.onMessage=function(e){e.data instanceof ArrayBuffer&&this.decode(e.data)},n.onClose=function(){this.websocket=null},n.encode=function(e,n){var t=JSON.stringify(n),i=this.textEncoder.encode(t),o=new Uint8Array(i.byteLength+2);return new DataView(o.buffer).setInt16(0,e),o.set(i,4),o.buffer},n.decode=function(e){var n=new DataView(e).getInt16(0),t=new Uint8Array(e,2),i=this.adaterMap.get(n);return i?i.decode(t):null},n.subscribe=function(e,n){n({})},n.send=function(e){var n,t=this.encode(e.opCode,e);null==(n=this.websocket)||n.send(t)},e}());t._instance=new t,n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});